{%- comment -%} ====================================================================================================
파일(File): 
    - _includes/customs/page__taxonomy.html

목적(Purpose):
    - 게시글 하단에 나타나는 카테고리 및 태그, 그리고 날짜를 렌더링합니다.

참고사항(Notes):
    - Minimal Mistakes 테마의 기본 page__taxonomy를 기반으로 작성되었으며, 이를 대체하여 사용됩니다.
================================================================================================= {%- endcomment -%}


{% case site.category_archive.type %}
  {% when "liquid" %}
    {% assign category_path_type = "#" %}
  {% when "jekyll-archives" %}
    {% assign category_path_type = nil %}
{% endcase %}

{% case site.tag_archive.type %}
  {% when "liquid" %}
    {% assign tag_path_type = "#" %}
  {% when "jekyll-archives" %}
    {% assign tag_path_type = nil %}
{% endcase %}


<div class="page-taxonomy">
    {% if page.categories and page.categories.size > 0 %}
        <div class="page-taxonomy__body">
            <strong class="page-taxonomy__label">카테고리 | </strong>

            <div class="page-taxonomy__tokens">
                {% for category in page.categories %}
                    <a
                        class="page-taxonomy__token page-taxonomy__token--category"
                        href="{{ category | slugify | prepend: category_path_type | prepend: site.category_archive.path | relative_url }}"
                        rel="tag"
                    >
                        {{ category }}
                    </a>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {% if page.tags and page.tags.size > 0 %}
        <div class="page-taxonomy__body">
            <strong class="page-taxonomy__label">태그 |</strong>

            <div class="page-taxonomy__tokens">
                {% for tag in page.tags %}
                    <a
                        class="page-taxonomy__token page-taxonomy__token--tag"
                        href="{{ tag | slugify | prepend: tag_path_type | prepend: site.tag_archive.path | relative_url }}"
                        rel="tag"
                    >
                        #{{ tag }}
                    </a>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {% assign date_format = site.date_format | default: "%Y. %m. %d" %}

    {% if page.last_modified_at %}
        <p class="page-taxonomy__date">
            <strong class="page-taxonomy__label">업데이트 |</strong>

            <time class="page-taxonomy__date page-taxonomy__date-published" datetime="{{ page.last_modified_at | date: '%Y-%m-%d' }}">
                {{ page.last_modified_at | date: date_format }}
            </time>
        </p>
    {% elsif page.date %}
        <p class="page-taxonomy__date">
            <strong class="page-taxonomy__label">업데이트 |</strong>

            <time class="page-taxonomy__date page-taxonomy__date-published" datetime="{{ page.date | date_to_xmlschema }}">
                {{ page.date | date: date_format }}
            </time>
        </p>
    {% endif %}
</div>