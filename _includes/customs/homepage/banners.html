{%- comment -%} ====================================================================================================
파일(File):
  - _includes/customs/homepage/banners.html

역할(Role):
  - 블로그 홈페이지에서 카테고리 아카이브 페이지로의 접근성을 높이기 위한 배너 메뉴를 렌더링합니다.

인자(Arguments):
  - page.banners(요소): 배너 메뉴 데이터
  - (선택사항) columns(정수형): 한 줄에 렌더링할 배너의 개수 (기본값: 5)

참고사항(Notes):
  - 배너 메뉴를 렌더링할 페이지의 프론트매터(Frontmatter)에 배너 데이터가 정의되어 있어야 합니다.
================================================================================================= {%- endcomment -%}


{%- if include.id -%}
    {%- assign banners = page[include.id] -%}
{%- else -%}
    {%- assign banners = page.banners -%}
{%- endif -%}

{%- if include.columns -%}
    {%- assign columns = include.columns -%}
{%- else -%}
    {%- assign columns = 5 -%}
{%- endif -%}


{%- if banners and banners.size > 0 -%}
<div class="banners banners__grid" style="--columns: {{ columns }};">  
  {%- for banner in banners -%}
    <div class="banners__item">
      <div class="banner__item">
        {%- if banner.url -%}
          <a class="banner__item-link" href="{{ banner.url | relative_url }}">
        {%- endif -%}

        {%- if banner.image_path -%}
          <div class="banner__item-teaser">
            <img src="{{ banner.image_path | relative_url }}" alt="{{ banner.alt | default: banner.title }}">
              {%- if banner.image_caption -%}
                <span class="banner__item-caption">{{ banner.image_caption | markdownify | remove: "<p>" | remove: "</p>" }}</span>
              {%- endif -%}
          </div>
        {%- endif -%}

        <div class="banner__item-body">
          {%- if banner.title -%}
            <h2 class="banner__item-title">{{ banner.title }}</h2>
          {%- endif %}

          {%- if banner.excerpt -%}
            <div class="banner__item-excerpt">{{ banner.excerpt | markdownify }}</div>
          {%- endif -%}
        </div>

        {%- if banner.url -%}
          </a>
        {%- endif -%}
                
      </div>
    </div>
  {%- endfor -%}
</div>
{%- endif -%}